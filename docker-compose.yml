version: '3'
services: 
    app:
        build:
            context: ./
            dockerfile: app.dockerfile
        working_dir: /var/www
        volumes:
          - ./:/var/www
        environment:
          - "DB_CONNECTION=sqlite"
    web:
        build:
            context: ./
            dockerfile: web.dockerfile
        working_dir: /var/www
        volumes:
          - ./:/var/www
        ports:
          - 8080:80
    database:
        image: sqlite
        volumes:
          - dbdata:/var/lib/sqlite
        environment:
          - "DB_CONNECTION=sqlite"
        ports:
          - "3306:3306"
#testing
    selenium:
        image: selenium/standalone-chrome
volumes: 
    dbdata: {}